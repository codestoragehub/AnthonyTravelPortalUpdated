@page
@using AnthonyTravelPortal.Domain.Enums
@model RegisterModel
@{
	Layout = null;
}

<h1>@ViewData["Title"]</h1>

<div class="row">
	<div class="col-md-12">
		<section>
			<form id="registerForm" asp-route-returnUrl="@Model.ReturnUrl" method="post" enctype="multipart/form-data">
				<div class="form-row">

					<hr />
					<div asp-validation-summary="ModelOnly" class="text-danger">
					</div>
					<div class="form-group col-md-6">
						<label asp-for="Input.FirstName"></label>
						<input asp-for="Input.FirstName" class="form-control" placeholder="Name" autocomplete="username" aria-required="true" />
						<span asp-validation-for="Input.FirstName" class="text-danger"></span>
					</div>


					<div class="form-group col-md-6">
						<label asp-for="Input.Email"></label>
						<input asp-for="Input.Email" class="form-control" placeholder="Email" autocomplete="username" aria-required="true" />

						<span asp-validation-for="Input.Email" class="text-danger"></span>
					</div>

					<div class="form-group col-md-6">
						<label asp-for="Input.PhoneNumber"></label>
						<input asp-for="Input.PhoneNumber" class="form-control" placeholder="Phone Number" autocomplete="username" aria-required="true" />
						<span asp-validation-for="Input.PhoneNumber" class="text-danger"></span>
					</div>


					<div class="form-group col-md-6">
						<label asp-for="Input.SelectRole"></label>
						@Html.DropDownListFor(m => m.Input.SelectRole, Html.GetEnumSelectList<Roles>(), "Select", new { @class = "form-control" })
					</div>

					<div class="form-group col-md-12">
						<label asp-for="Input.Client_ID"></label>
						@Html.DropDownListFor(m => m.Input.Client_ID, Model.Clientlist, new { @class = "form-control"})
					</div>

					<div class="form-group col-md-6">
						<label asp-for="Input.Password"></label>
						<input asp-for="Input.Password" class="form-control" placeholder="Password" autocomplete="new-password" aria-required="true" />
						<span asp-validation-for="Input.Password" class="text-danger"></span>
					</div>
					<div class="form-group col-md-6">
						<label asp-for="Input.ConfirmPassword"></label>
						<input asp-for="Input.ConfirmPassword" class="form-control" placeholder="Confirm Password" autocomplete="new-password" aria-required="true" />
						<span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
					</div>


					<div class="form-group col-md-6">
						@if (Model?.Input?.ProfilePicture != null)
						{
							<img id="profilepicture" alt="profile" class="profile-picture" src="data:images/*;base64,@Convert.ToBase64String(Model.Input.ProfilePicture))" />
						}
						else
						{
							<img id="profilepicture" alt="profile" class="profile-picture" src="~/images/default-user.jpg" />
						}
					</div>

					<div class="custom-file mt-2">
						<input type="file"
							   accept="image/*"
							   asp-for="Input.ProfilePicture"
							   class="custom-file-input"
							   onchange="document.getElementById('profilepicture').src = window.URL.createObjectURL(this.files[0])" />
						<label class="custom-file-label" asp-for="Input.ProfilePicture">Choose Picture</label>
						<span asp-validation-for="Input.ProfilePicture" class="text-danger"></span>

					</div>

					<button id="registerSubmit" type="submit" class="w-100 btn btn-lg btn-primary">Register</button>
				</div>
			</form>
		</section>
	</div>
</div>

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
}
